{% extends "network/layout2.html" %}

{% load static %}

{% block title %}
Sign In | Network
{% endblock %}

{% block body %}
<div class="user-box mt-24 mx-auto max-w-md bg-white shadow-md rounded-lg p-8">
    <div>
        <center>
            <img src="{% static 'network/Images/logo_icon.png' %}" class="h-12 mb-6" alt="Logo">
            <h3 class="text-2xl font-semibold">Connectez-vous Ã  Nbrain</h3><br>
        </center>
    </div>

    <form action="{% url 'login' %}" method="post" id="signin-form" class="w-full mb-10">
        {% csrf_token %}
        <div class="form-group">
            <input
                class="form-controls inp usrnm w-full px-3 py-2 border rounded-md focus:outline-none focus:border-indigo-500"
                type="text" name="username" placeholder="Username" autocomplete="off" autofocus>
        </div>
        <div class="form-group">
            <input
                class="form-controls inp pswd w-full px-3 py-2 border rounded-md focus:outline-none focus:border-indigo-500"
                type="password" name="password" placeholder="Mot de passe" autocomplete="off">
            <span class="star small text-red-500">{{message}}</span>
        </div>
        <center>
            <input
                class="btns px-3 py-2 cursor-pointer w-full bg-indigo-500 text-white rounded-md hover:bg-indigo-600 focus:outline-none  focus:border-indigo-500"
                type="submit" value="Connexion" disabled style="margin-top: 10px;">
        </center>
    </form>

    <div>
        <center>
            Vous n'avez pas un compte?&nbsp;&nbsp;<a href="{% url 'register' %}"
                class="text-indigo-500 hover:underline">Inscrivez-vous</a>
        </center>
    </div>
</div>

<script>
    document.addEventListener("DOMContentLoaded", () => {
        document.querySelectorAll(".inp").forEach(input => {
            input.addEventListener('input', () => {
                if ((document.querySelector('.usrnm').value.length === 0) || (document.querySelector('.pswd').value.length === 0)) {
                    document.querySelector('input[type="submit"]').disabled = true;
                } else {
                    document.querySelector('input[type="submit"]').disabled = false;
                }
            });
        });
    });
</script>
{% endblock %}